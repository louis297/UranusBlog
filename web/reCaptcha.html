<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recaptcha Test</title>
    <!--<script src='https://www.google.com/recaptcha/api.js'></script>-->
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
    <script src="static/js/jquery.min.js"></script>
    <script>
        var onloadCallback = function() {
            grecaptcha.render('html_element', {
                'sitekey' : '6LfWa0MUAAAAAJ6ZOABo4_F7w2CGRkCf1kHGqSih',
                'callback' : correctCaptcha
            });
        };

        var correctCaptcha = function(ret) {

            $.ajax({
                url:'api/recaptcha',
                data:{'data': ret},
                success: function(r){
                    // r is empty or html code for submit button
                    // add r to this page
                    $('#btnSubmitDiv').html(r);
                }
            })
        };
    </script>
</head>
<body>

<form action="#" method="post">

    name <input type="" name="name" >
    <div id='html_element'></div>
    <div id="btnSubmitDiv"></div>



</form>

</body>
</html>